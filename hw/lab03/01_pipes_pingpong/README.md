# pipes-pingpong

## üìù –£—Å–ª–æ–≤–∏–µ

–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É `solution03_01.c`, –∫–æ—Ç–æ—Ä–∞—è:

- –ø–æ—Ä–æ–∂–¥–∞–µ—Ç **–¥–≤–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞**;
- —Å–≤—è–∑—ã–≤–∞–µ—Ç –∏—Ö **–¥–≤—É–º—è –Ω–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏ (pipe)**;
- –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –æ–±–º–µ–Ω —á–∏—Å–ª–∞–º–∏ `1, 2, 3, ...` –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã:

- —á–∏—Å–ª–æ `1` –ø–æ–ª—É—á–∞–µ—Ç **–ø–µ—Ä–≤—ã–π** —Å—ã–Ω;
- –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —á–∏—Å–ª–∞ –∏–∑ –≤—Ö–æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∫–∞–∂–¥—ã–π —Å—ã–Ω:
  - –ø–µ—á–∞—Ç–∞–µ—Ç –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—è —Å—Ç—Ä–æ–∫—É
    ```
    <–Ω–æ–º–µ—Ä_—Å—ã–Ω–∞> <—á–∏—Å–ª–æ>
    ```
    –≥–¥–µ `<–Ω–æ–º–µ—Ä_—Å—ã–Ω–∞>` —Ä–∞–≤–µ–Ω `1` –∏–ª–∏ `2`;
  - –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –≤ –∫–∞–Ω–∞–ª —á–∏—Å–ª–æ, **—É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –Ω–∞ 1**;
- –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —á–∏—Å–ª–∞, –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, —Å—ã–Ω:
  - **–Ω–µ** –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç —á–∏—Å–ª–æ –¥–∞–ª—å—à–µ;
  - **–∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É**.

–ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ**:
- –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∏–∑ –∫–∞–Ω–∞–ª–∞;
- –ª–∏–±–æ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞ –≤ –∫–∞–Ω–∞–ª–µ.

–ó–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤ –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞—è—Ö **–Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è**.

–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å:
- –¥–æ–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è **–æ–±–æ–∏—Ö** —Å—ã–Ω–æ–≤–µ–π;
- –ø–µ—á–∞—Ç–∞–µ—Ç —Å—Ç—Ä–æ–∫—É
  ```
  Done
  ```
- –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.

### –ü—Ä–∏–º–µ—Ä

–ï—Å–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –ø–µ—Ä–µ–¥–∞–Ω–æ —á–∏—Å–ª–æ `5`, –≤—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:

```
1 1
2 2
1 3
2 4
Done
```

## ‚ÑπÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

- –î–∞–Ω–Ω—ã–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ `pipe` **–≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ**.
- –î–ª—è –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π** –≤–≤–æ–¥-–≤—ã–≤–æ–¥:
  `printf`, `scanf` –∏ —Ç. –ø.
- –ü—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –∫ –ø–æ—Ç–æ–∫–∞–º —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è:
  - –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é `fdopen`,
  - –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ (`dup2`).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤, shared memory, socketpair –∏ –¥—Ä—É–≥–∏—Ö IPC
  **–∑–∞–ø—Ä–µ—â–µ–Ω–æ**.

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã

```bash
cd hw/lab03/01_pipes_pingpong   # –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –∑–∞–¥–∞—á–∏
make                            # —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
make test                       # –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã (unittest)
```

## üß™ –ü—Ä–∏–º–µ—Ä—ã –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞

| –ö–æ–º–∞–Ω–¥–∞            | –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥                 |
|--------------------|---------------------------------|
| `./solution03_01 1` | `Done`                          |
| `./solution03_01 2` | `1 1\nDone`                     |
| `./solution03_01 5` | `1 1\n2 2\n1 3\n2 4\nDone`      |

## üê≥ –†–∞–±–æ—Ç–∞ –≤ Docker

### 1. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

```bash
docker build -t dev-intel .
```

### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -it --rm -v "$(pwd)":/workspace -w /workspace dev-intel
```

### 3. –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
cd hw/lab03/01_pipes_pingpong
make
make test
```

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
exit
```
–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl + D`.

## üßπ –û—á–∏—Å—Ç–∫–∞

```bash
make clean
```

## üöÄ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –≤ GitHub Actions

```bash
git add .
git commit -m "lab03: pipes-pingpong"
git push   # —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ Actions ‚úÖ
```